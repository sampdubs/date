<!DOCTYPE html>
<html lang="en">

<head>
    <title>Waiting for players...</title>
</head>

<body>
    <div id="hand">
        <p>Your hand: {{ hand }}</p>
    </div>

    <div id="players">
        <p>Other players:</p>
        {% for player in players %}
        <p id="{{ player.sid }}">{{ player.name }}</p>
        {% endfor %}
    </div>
</body>

<script src={{ url_for('static', filename='jquery.min.js' ) }}></script>
<!-- Socket.IO for communication with the server -->
<script src={{ url_for('static', filename='socket.io.min.js' ) }}></script>

<script>
    const urlParts = window.location.href.split('/');
    const oldId = urlParts.pop() || urlParts.pop();

    // emit id change
    socket.emit('change sid', { 'old': oldId });

    // when I get an sid change message
    socket.on('change sid', function (data) {
        // change the player's id
        $('#' + data.old).attr('id', data.sid);
    });
</script>

</html>